@page
@model IndexModel

<h1 class="blogs__title">Our blogs</h1>

<ul class="blogs">
    @foreach (var blogItem in Model.BlogsPayload.Items) {
        <li class="blog-card">
            <a href="@("/blog?id=" + blogItem.Sys.Id)">
                <h2 class="blog-card__title mobile">@blogItem.Title</h2>
                @if (blogItem.ThumbnailImage != null) {
                    <img class="blog-card__img" src="@("http://live.leif.zenhub.contensis.cloud" + blogItem.ThumbnailImage.Asset.Uri)" alt="@blogItem.ThumbnailImage.AltText" />
                }
                <div class="related-blog__content">
                <h2 class="blog-card__title desktop">@blogItem.Title</h2>
                <!-- Truncate text as it can sometimes be too long -->
                @if (blogItem.LeadParagraph != null) {
                    <p class="blog-card__text">@blogItem.LeadParagraph.Substring(0, Math.Min(blogItem.LeadParagraph.Length, 124))&hellip;</p>
                }
                @if (blogItem.Category != null) {
                    <span class="category">@blogItem.Category.Name</span>
                }
                </div>
            </a>
        </li>
    }
</ul>